<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    th:with="lang=${#locale.language}" th:lang="${lang}">
<head>

<head>
	<title>List Customers</title>
	
	<link th:href="@{/resources/css/bootstrap.css}" rel="stylesheet" />
	<link th:href="@{/resources/css/starter-template.css}" rel="stylesheet"/>
	<script th:src="@{/resources/js/jquery-2.1.4.min.js}" type="text/javascript"></script>
	<script th:src="@{/resources/js/bootstrap.min.js}"></script>


</head>

<body>

	<div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" th:href="@{/}"><b>CRM - Customer Relationship Manager</b></a>
        </div>
      </div>
    </div>
    
    <hr>
	
	<div class="container">
		<form th:action="@{/search}" method="POST">
			
			<span class="navbar-text">Search customer</span>: <input type="text" name="theSearchName" />
				
			<input 
				type="submit" 
				value="Search" 
				class="btn btn-primary" />
		</form>	   
	
	
		<div class="container">
			<table class="table table-bordered table-inverse">
				<tr>
					<th>First Name</th>
					<th>Last Name</th>
					<th>Age</th>
					<th>Email</th>
					<th>Country</th>
					<th> Action </th>
				</tr>
				
				<tr th:each="tempCustomer : ${customers}">
					<td th:text="${tempCustomer.firstName}"> Grimer </td>
					<td th:text="${tempCustomer.lastName}"> Muk</td>
					<td th:text="${tempCustomer.age}"> 15</td>
					<td th:text="${tempCustomer.email}"> grimer@gmail.com</td>
					
					<td th:if="${tempCustomer.country != null}" th:text="${tempCustomer.country}"> Portugal</td>
					<td th:if="${tempCustomer.country == null}"> Unknown </td>
					
					<td> <a th:href="@{/showFormForUpdate(customerId=${tempCustomer.id})}">Update</a></td>
					<td> <a th:href="@{/delete(customerId=${tempCustomer.id})}"
							    onclick="if(!(confirm('Are you sure you wanna delete this customer?'))) return false;">Delete</a></td>
				</tr>
				
			</table>
		</div>
		
		<hr>
		
		<div class="container">
			<input type="button" 
				   class="btn btn-primary" 
				   value="Add Customer" 
				   onclick="window.location.href='showFormForAdd'; return false;"/>
				   
		</div>
		
	</div>
	

</body>

</html>









